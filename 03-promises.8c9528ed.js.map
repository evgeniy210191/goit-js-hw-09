{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAOC,EAAOC,EAAMC,EAAQC,GAAU,CACpC,iBACA,gBACA,kBACA,mBACAC,KAAIC,GAAQC,SAASC,cAAcF,KAiCrCF,EAAOK,iBAAiB,SAdJC,IAClBA,EAAMC,iBACNC,YAAW,KACT,IAAK,IAAIC,EAAI,EAAGA,EAAIV,EAAOW,MAAOD,IAChCD,YAAW,KACT,IAAIG,EAAUF,EAAIX,EAAKY,QAASb,EAAMa,MACtC,OAvBeE,EAuBMH,EAvBII,EAuBDF,EAtBtBG,QAAU,IAAIC,SAAQ,CAACC,EAASC,KAChBC,KAAKC,SAAW,GAGpCH,EACEI,EAAAzB,GAAS0B,OAAOC,QAAQ,sBAAoBV,QAAiBC,QAG/DI,EACEG,EAAAzB,GAAS0B,OAAOE,QACd,uBAAqBX,QAAeC,OAAW,KAa9CW,MAAKC,GAAOA,IACZC,OAAMD,GAAOA,IAzBxB,IAAuBb,EAAUC,CAyBL,GACnBJ,EAAIX,EAAKY,MAAM,GAEnBb,EAAMa,MAAM","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst [delay, step, amount, submit] = [\n  '[name=\"delay\"]',\n  '[name=\"step\"]',\n  '[name=\"amount\"]',\n  '[type=\"submit\"]',\n].map(item => document.querySelector(item));\n\nfunction createPromise(position, delay) {\n  return (promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      resolve(\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n      );\n    } else {\n      reject(\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        )\n      );\n    }\n  }));\n}\nconst callPromise = event => {\n  event.preventDefault();\n  setTimeout(() => {\n    for (let i = 0; i < amount.value; i++) {\n      setTimeout(() => {\n        let timeNow = i * step.value + +delay.value;\n        return createPromise(i, timeNow)\n          .then(res => res)\n          .catch(res => res);\n      }, i * step.value)\n    }\n  }, delay.value);\n};\n\nsubmit.addEventListener('click', callPromise);\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$submit","map","item","document","querySelector","addEventListener","event","preventDefault","setTimeout","i","value","timeNow","position","delay1","promise","Promise","resolve","reject","Math","random","$parcel$interopDefault","Notify","failure","success","then","res","catch"],"version":3,"file":"03-promises.8c9528ed.js.map"}